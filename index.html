<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hospital Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
      <h1 class="text-center mb-5">Hospital Management System</h1>
      <div class="border shadow p-3 mb-5 bg-body-tertiary rounded container-md">
        <form class="row g-3" id="dataForm">
            <div class="col-md-6">
              <label for="patientName" class="form-label">Patient Name</label>
              <input type="text" class="form-control" id="patientName" name="patientName">
            </div>
            <div class="col-md-6">
                <label for="bloodGroup" class="form-label">Blood Group</label>
                <select class="form-select" id="bloodGroup" name="bloodGroup">
                    <option value="" selected>Open this select menu</option>
                    <option value="O+">O positive</option>
                    <option value="O-">O negative</option>
                    <option value="A+">A positive</option>
                    <option value="A-">A negative</option>
                    <option value="B+">B positive</option>
                    <option value="B-">B negative</option>
                    <option value="AB+">AB positive</option>
                    <option value="AB-">AB negative</option>
                </select>
            </div>
            <div class="col-md-6">
                <label for="patientWeight" class="form-label">Weight (in KG)</label>
                <input type="number" min="10" max="150" class="form-control" id="patientWeight" name="patientWeight" placeholder="55">
            </div>
            <div class="col-md-6">
                <label for="patientHeight" class="form-label">Height (in CM)</label>
                <input type="number" min="50" max="200" class="form-control" id="patientHeight" name="patientHeight" placeholder="165">
            </div>
            <div class="col-12">
              <label for="patientProblem" class="form-label">Problem</label>
              <input type="text" class="form-control" id="patientProblem" name="patientProblem" placeholder="Fever with headache">
            </div>
            <div class="col-md-6">
              <label for="inputCity" class="form-label">City</label>
              <input type="text" class="form-control" id="inputCity" name="city">
            </div>
            <div class="col-md-6">
              <label for="inputState" class="form-label">State</label>
              <select id="inputState" class="form-select" name="state">
                <option value="Tamil Nadu" selected>Tamil Nadu</option>
                <option value="Kerala">Kerala</option>
              </select>
            </div>
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="gridCheck" name="visitedBefore">
                <label class="form-check-label" for="gridCheck">
                    Have you visited before?
                </label>
              </div>
            </div>
            <div class="col-md-6">
              <button type="submit" id="saveData" class="btn btn-primary">Submit</button>
            </div>
          </form>
    </div>
    <div class="text-center">
      <a href="displayPage.html" class="btn btn-primary d-inline-block">Display Data &rarr;</a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <script>
      const form = document.getElementById('dataForm');

      form.addEventListener('submit', (event) => {
        event.preventDefault(); // Prevent page refresh
        const formData = {};

        // Collect data from the form inputs
        Array.from(form.elements).forEach(input => {
          if (input.name) { 
            if (input.type === 'checkbox') {
              formData[input.name] = input.checked; // Handle checkbox
            } else {
              formData[input.name] = input.value;
            }
          }
        });

        console.log('Collected Form Data:', formData); // Debugging line
        localStorage.setItem('formData', JSON.stringify(formData)); // Save to localStorage
        alert('Data saved! You can view it on the display page.');
      });
    </script>
  </body>
</html>
